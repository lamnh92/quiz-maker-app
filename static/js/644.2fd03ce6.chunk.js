"use strict";(self.webpackChunkquiz_maker_app=self.webpackChunkquiz_maker_app||[]).push([[644],{644:(e,l,t)=>{t.r(l),t.d(l,{default:()=>u});var s=t(43),i=t(858),n=t(216);const o=t(154).A.create({baseURL:"https://opentdb.com"});o.interceptors.response.use((e=>void 0!==e&&void 0!==e.data?e.data:e),(async e=>{throw e}));const c=o;const a=new class{constructor(){this.getAllCategories=()=>c.get("/api_category.php")}};const d=new class{constructor(){this.getAllQuestions=(e,l)=>c.get("/api.php?amount=5&category=".concat(e,"&difficulty=").concat(l,"&type=multiple"))}};var r=t(579);function u(){const e=(0,n.Zp)(),[l,t]=(0,s.useState)(!1),[o,c]=(0,s.useState)([]),[u,v]=(0,s.useState)([]),[m,h]=(0,s.useState)([]),{register:p,handleSubmit:f,formState:{errors:j}}=(0,i.mN)({defaultValues:{categorySelect:"",difficultySelect:""}}),g=e=>{for(let l=(null===e||void 0===e?void 0:e.length)-1;l>0;l--){const t=Math.floor(Math.random()*(l+1));[e[l],e[t]]=[e[t],e[l]]}return e},y=(0,s.useMemo)((()=>m),[m]);return(0,s.useEffect)((()=>{(async()=>{const e=await a.getAllCategories();c(null===e||void 0===e?void 0:e.trivia_categories)})()}),[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("form",{onSubmit:f((async e=>{var l;const s=await d.getAllQuestions(null===e||void 0===e?void 0:e.categorySelect,null===e||void 0===e?void 0:e.difficultySelect);let i=null===s||void 0===s||null===(l=s.results)||void 0===l?void 0:l.map((e=>({...e,answers:g([null===e||void 0===e?void 0:e.correct_answer,...null===e||void 0===e?void 0:e.incorrect_answers])})));v(i),t(!0),h([])})),children:[(0,r.jsx)("p",{className:"h1 text-center",children:"QUIZ MAKER"}),(0,r.jsxs)("div",{className:"row justify-content-md-center m-2",children:[(0,r.jsx)("div",{className:" col col-lg-2",children:(0,r.jsxs)("select",{className:"form-select",id:"categorySelect",...p("categorySelect",{required:{value:!0,message:"Please select category!"}}),children:[(0,r.jsx)("option",{value:"",children:"Select a category"}),null===o||void 0===o?void 0:o.map((e=>(0,r.jsx)("option",{value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)))]})}),(0,r.jsx)("div",{className:" col col-lg-2",children:(0,r.jsxs)("select",{className:"form-select",id:"difficultySelect",...p("difficultySelect",{required:{value:!0,message:"Please select difficulty!"}}),children:[(0,r.jsx)("option",{value:"",children:"Select difficulty"}),(0,r.jsx)("option",{value:"easy",children:"Easy"}),(0,r.jsx)("option",{value:"medium",children:"Medium"}),(0,r.jsx)("option",{value:"hard",children:"Hard"})]})}),(0,r.jsx)("div",{className:" col col-lg-2",children:(0,r.jsx)("button",{type:"submit",id:"createBtn",className:"btn btn-primary",disabled:l,children:"Create"})})]})]}),null===u||void 0===u?void 0:u.map(((e,l)=>(0,r.jsxs)("div",{className:"row justify-content-md-center",children:[(0,r.jsx)("div",{className:"row justify-content-md-center",children:(0,r.jsx)("div",{className:" col col-lg-10",children:(0,r.jsx)("p",{dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.question}})})}),(0,r.jsx)("div",{className:"row justify-content-md-center",children:(0,r.jsx)("div",{className:" col col-lg-10",children:(0,r.jsx)("div",{className:"d-flex flex-row",children:null===e||void 0===e?void 0:e.answers.map(((l,t)=>{var s;return(0,r.jsx)("div",{className:"p-2",children:(0,r.jsx)("button",{type:"button",className:void 0!==y&&(null===y||void 0===y||null===(s=y.find((l=>(null===l||void 0===l?void 0:l.question)===(null===e||void 0===e?void 0:e.question))))||void 0===s?void 0:s.answer)===l?"btn btn-success":"btn btn-outline-success",onClick:()=>((e,l)=>{const t=null===m||void 0===m?void 0:m.filter((e=>(null===e||void 0===e?void 0:e.question)!==(null===l||void 0===l?void 0:l.question)));(null===t||void 0===t?void 0:t.length)<(null===m||void 0===m?void 0:m.length)?h(t):h([...m,{question:null===l||void 0===l?void 0:l.question,answer:e}])})(l,e),children:(0,r.jsx)("span",{dangerouslySetInnerHTML:{__html:l}})})},t)}))})})})]},l))),5===(null===y||void 0===y?void 0:y.length)&&(0,r.jsx)("div",{className:"row justify-content-md-center m-2",children:(0,r.jsx)("div",{className:" col col-lg-2",children:(0,r.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>{e("/results",{state:{data:u,chosse:m}})},children:"Submit"})})})]})}}}]);
//# sourceMappingURL=644.2fd03ce6.chunk.js.map